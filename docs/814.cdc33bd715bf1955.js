"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[814],{1814:(Q,m,s)=>{s.r(m),s.d(m,{PostaModule:()=>q});var c=s(6814),p=s(4287),t=s(4946),d=s(7059),g=s(9862);let l=(()=>{class o{constructor(e){this.http=e,this.emailAPI="https://api.angular-email.com/"}svaPosta(){return this.http.get(this.emailAPI+"emails")}vratiPorukuPoId(e){return this.http.get(this.emailAPI+"emails/"+e)}posaljiPoruku(e){return this.http.post(this.emailAPI+"emails",e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(g.eN))};static#o=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function k(o,u){1&o&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"div",3)(4,"div",3),t.qZA()(),t.TgZ(5,"div",1)(6,"div",2),t._UZ(7,"div",3)(8,"div",3),t.qZA()(),t.TgZ(9,"div",1)(10,"div",2),t._UZ(11,"div",3)(12,"div",3),t.qZA()(),t.BQk())}function _(o,u){1&o&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"i",9),t._uU(3," Nemate poruka u inboksu "),t.qZA(),t.TgZ(4,"p",10),t._uU(5,"Po\u0161aljite e-mail na va\u0161 nalog i poruke \u0107e biti prikazane ovde"),t.qZA(),t.TgZ(6,"p",10)(7,"b"),t._uU(8,"username@angular-email.com"),t.qZA()()())}function P(o,u){if(1&o&&(t.TgZ(0,"div",11)(1,"a",12)(2,"div",13)(3,"div",14),t._uU(4),t.qZA(),t.TgZ(5,"p",15),t._uU(6),t.qZA()()()()),2&o){const e=u.$implicit;t.xp6(1),t.Q6J("routerLink",e.id),t.xp6(3),t.hij(" ",e.subject," "),t.xp6(2),t.hij(" ",e.from," ")}}function Z(o,u){if(1&o&&(t.ynx(0),t.YNc(1,_,9,0,"div",4),t.TgZ(2,"div",5),t.YNc(3,P,7,3,"div",6),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.posta.length<1),t.xp6(2),t.Q6J("ngForOf",e.posta)}}let T=(()=>{class o{constructor(e){this.postaService=e,this.ucitavanje=!0,this.posta=[]}ngOnInit(){this.postaService.svaPosta().subscribe(e=>{this.posta=e,this.ucitavanje=!1})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(l))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-lista"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"ui","placeholder"],[1,"image","header"],[1,"line"],["class","ui placeholder segment",4,"ngIf"],[1,"ui","celled","list"],["class","item my-hover",4,"ngFor","ngForOf"],[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"pdf","search","icon"],[2,"text-align","center"],[1,"item","my-hover"],["routerLinkActive","active",3,"routerLink"],[1,"content"],[1,"header","trim"],[1,"trim"]],template:function(a,i){1&a&&(t.YNc(0,k,13,0,"ng-container",0),t.YNc(1,Z,4,2,"ng-container",0)),2&a&&(t.Q6J("ngIf",i.ucitavanje),t.xp6(1),t.Q6J("ngIf",!i.ucitavanje))},dependencies:[c.sg,c.O5,p.rH,p.Od],styles:['.my-hover[_ngcontent-%COMP%]{cursor:pointer}.my-hover[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}a.active[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}a.active[_ngcontent-%COMP%]:before{content:">";font-size:20px;margin-right:10px}.content[_ngcontent-%COMP%]{width:90%}.trim[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}']})}return o})();var h=s(8193);const b=[[["","modalTitle",""]],"*"],C=["[modalTitle]","*"];let v=(()=>{class o{constructor(e){this.el=e,this.close=new t.vpe}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){this.el.nativeElement.remove()}CloseModal(){this.close.emit()}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(t.SBq))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal"]],outputs:{close:"close"},ngContentSelectors:C,decls:6,vars:0,consts:[[1,"ui","dimmer","visible","active",3,"click"],[1,"ui","modal","visible","active",3,"click"],[1,"header"],[1,"content"]],template:function(a,i){1&a&&(t.F$t(b),t.TgZ(0,"div",0),t.NdJ("click",function(){return i.CloseModal()}),t.TgZ(1,"div",1),t.NdJ("click",function(z){return z.stopPropagation()}),t.TgZ(2,"div",2),t.Hsn(3),t.qZA(),t.TgZ(4,"div",3),t.Hsn(5,1),t.qZA()()())}})}return o})();var n=s(95),x=s(1060);let f=(()=>{class o{constructor(){this.porukaSubmit=new t.vpe,this.porukaPodaci={id:"",from:"",to:"",text:"",html:"",subject:""},this.slanje=!1,this.postaForma=new n.cw({to:new n.NI("",[n.kI.required,n.kI.email]),from:new n.NI({value:"",disabled:!0},[n.kI.required]),subject:new n.NI("",[n.kI.required]),content:new n.NI("",[n.kI.required])})}ngOnInit(){this.postaForma.setValue({to:this.porukaPodaci.to,from:this.porukaPodaci.from,subject:this.porukaPodaci.subject,content:this.porukaPodaci.text})}onSubmit(){if(this.postaForma.invalid)return this.postaForma.controls.to.markAsDirty(),this.postaForma.controls.subject.markAsDirty(),void this.postaForma.controls.content.markAsDirty();this.slanje=!0,this.porukaSubmit.emit(this.postaForma.getRawValue())}static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-forma"]],inputs:{porukaPodaci:"porukaPodaci"},outputs:{porukaSubmit:"porukaSubmit"},decls:12,vars:8,consts:[[1,"ui","form",3,"formGroup","ngClass","ngSubmit"],["naziv","Od","tipPolja","email",3,"kontrola"],["naziv","Za","tipPolja","email",3,"kontrola"],["naziv","Naslov","tipPolja","text",3,"kontrola"],["naziv","Sadr\u017eaj","tipPolja","text",3,"kontrola","textAreaTip"],[2,"opacity","0"],[1,"ui","submit","button","primary",3,"ngClass"]],template:function(a,i){1&a&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t._UZ(1,"app-input",1)(2,"br")(3,"app-input",2)(4,"br")(5,"app-input",3)(6,"br")(7,"app-input",4)(8,"hr",5),t.TgZ(9,"div")(10,"button",6),t._uU(11," Po\u0161alji "),t.qZA()()()),2&a&&(t.Q6J("formGroup",i.postaForma)("ngClass",i.slanje?"loading":""),t.xp6(1),t.Q6J("kontrola",i.postaForma.controls.from),t.xp6(2),t.Q6J("kontrola",i.postaForma.controls.to),t.xp6(2),t.Q6J("kontrola",i.postaForma.controls.subject),t.xp6(2),t.Q6J("kontrola",i.postaForma.controls.content)("textAreaTip",!0),t.xp6(3),t.Q6J("ngClass",i.slanje?"loading":""))},dependencies:[c.mk,x.a,n._Y,n.JL,n.sg]})}return o})();function j(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"app-modal",2),t.NdJ("close",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.ShowModal())}),t.TgZ(1,"h3",3),t._uU(2,"Nova Poruka"),t.qZA(),t.TgZ(3,"app-posta-forma",4),t.NdJ("porukaSubmit",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit(i))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("porukaPodaci",e.poruka)}}let w=(()=>{class o{constructor(e,a,i){this.nalogService=e,this.postaService=a,this.obavestenjaService=i,this.poruka={id:"",to:"",subject:"",html:"",text:"",from:this.nalogService.korisnickoIme+"@angular-email.com"},this.showModal=!1}ShowModal(){this.showModal=!this.showModal}onSubmit(e){this.postaService.posaljiPoruku({to:e.to,subject:e.subject,text:e.content}).subscribe(()=>{this.obavestenjaService.dodajUspeh("Poruka uspe\u0161no poslata"),this.showModal=!1})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.G),t.Y36(l),t.Y36(h.w))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-nova-poruka"]],decls:3,vars:1,consts:[[1,"ui","button","inverted","violet","fluid",3,"click"],[3,"close",4,"ngIf"],[3,"close"],["modalTitle",""],[3,"porukaPodaci","porukaSubmit"]],template:function(a,i){1&a&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.ShowModal()}),t._uU(1,"NOVA PORUKA"),t.qZA(),t.YNc(2,j,4,1,"app-modal",1)),2&a&&(t.xp6(2),t.Q6J("ngIf",i.showModal))},dependencies:[c.O5,v,f]})}return o})(),y=(()=>{class o{constructor(e){this.nalogSevice=e,this.korisnik="",this.korisnik=this.nalogSevice.korisnickoIme}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(d.G))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-pocetna"]],decls:17,vars:1,consts:[[1,"ui","grid"],[1,"thirteen","wide","column"],[1,"ui","header"],[1,"three","wide","column"],[1,"ui","divider"],[1,"five","wide","column","okvir1"],[1,"ten","wide","column","okvir2"]],template:function(a,i){1&a&&(t._UZ(0,"br"),t.TgZ(1,"div",0)(2,"div",1)(3,"h2",2),t._uU(4,"Va\u0161e poruke"),t.qZA()(),t.TgZ(5,"div",3)(6,"p")(7,"i"),t._uU(8),t.qZA()()()(),t._UZ(9,"div",4),t.TgZ(10,"div",0)(11,"div",5),t._UZ(12,"app-posta-nova-poruka")(13,"br")(14,"app-posta-lista"),t.qZA(),t.TgZ(15,"div",6),t._UZ(16,"router-outlet"),t.qZA()()),2&a&&(t.xp6(8),t.hij("",i.korisnik,"@angular-email.com"))},dependencies:[p.lC,T,w],styles:[".okvir1[_ngcontent-%COMP%]{box-shadow:#0000000d 0 0 0 1px;margin:5px}.okvir2[_ngcontent-%COMP%]{box-shadow:#63636333 0 2px 8px;margin:5px}"]})}return o})();function S(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"app-modal",2),t.NdJ("close",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.ShowModal())}),t.TgZ(1,"h3",3),t._uU(2,"Odgovor na poruku"),t.qZA(),t.TgZ(3,"app-posta-forma",4),t.NdJ("porukaSubmit",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit(i))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("porukaPodaci",e.poruka)}}let A=(()=>{class o{constructor(e,a){this.postaService=e,this.obavestenjaService=a,this.poruka={id:"",from:"",to:"",subject:"",text:"",html:""},this.showModal=!1}ShowModal(){this.showModal=!this.showModal}ngOnChanges(){this.poruka={...this.poruka,to:this.poruka.from,from:this.poruka.to,subject:"Odgovor: "+this.poruka.subject,text:`\n\n      >> Odgovor na: \n      ${this.poruka.text}\n      `}}onSubmit(e){this.postaService.posaljiPoruku({to:e.to,subject:e.subject,text:e.content}).subscribe(i=>{this.obavestenjaService.dodajUspeh("Poruka uspe\u0161no poslata"),this.showModal=!1})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(l),t.Y36(h.w))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-odgovor"]],inputs:{poruka:"poruka"},features:[t.TTD],decls:3,vars:1,consts:[[1,"ui","button","inverted","secondary","fluid",3,"click"],[3,"close",4,"ngIf"],[3,"close"],["modalTitle",""],[3,"porukaPodaci","porukaSubmit"]],template:function(a,i){1&a&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.ShowModal()}),t._uU(1,"ODGOVORI"),t.qZA(),t.YNc(2,S,4,1,"app-modal",1)),2&a&&(t.xp6(2),t.Q6J("ngIf",i.showModal))},dependencies:[c.O5,v,f]})}return o})(),M=(()=>{class o{constructor(e){this.route=e}ngOnInit(){this.route.data.subscribe(({poruka:e})=>{this.poruka=e})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.gz))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-prikaz"]],decls:19,vars:5,consts:[[1,"header"],[3,"poruka"],[1,"ui","divider"],[3,"innerHTML"]],template:function(a,i){1&a&&(t._UZ(0,"br"),t.TgZ(1,"div",0)(2,"div")(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"b"),t._uU(7,"Od: "),t.qZA(),t.TgZ(8,"i"),t._uU(9),t.qZA()(),t.TgZ(10,"div")(11,"b"),t._uU(12,"Za: "),t.qZA(),t.TgZ(13,"i"),t._uU(14),t.qZA()()(),t.TgZ(15,"div"),t._UZ(16,"app-posta-odgovor",1),t.qZA()(),t._UZ(17,"div",2)(18,"div",3)),2&a&&(t.xp6(4),t.Oqu(i.poruka.subject),t.xp6(5),t.Oqu(i.poruka.from),t.xp6(5),t.Oqu(i.poruka.to),t.xp6(2),t.Q6J("poruka",i.poruka),t.xp6(2),t.Q6J("innerHTML",i.poruka.html,t.oJD))},dependencies:[A],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}"]})}return o})(),O=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-posta-prikaz-pocetna"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"pdf","envelope","outline","outline","icon"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3," Izaberite poruku za prikaz "),t.qZA()())}})}return o})();var F=s(6306),U=s(6232);const I=[{path:"",component:y,children:[{path:"",component:O},{path:"nePostoji",component:(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-poruka-ne-postoji"]],decls:4,vars:0,consts:[[1,"ui","placeholder","segment"],[1,"ui","icon","header"],[1,"pdf","search","icon"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t._uU(3," Poruka nije prona\u0111ena "),t.qZA()())}})}return o})()},{path:":id",component:M,resolve:{poruka:(()=>{class o{constructor(e,a){this.postaService=e,this.router=a}resolve(e){let{id:a}=e.params;return this.postaService.vratiPorukuPoId(a).pipe((0,F.K)(i=>(this.router.navigate(["posta/nePostoji"]),U.E)))}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(l),t.LFG(p.F0))};static#o=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]}];let N=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(I),p.Bz]})}return o})();var J=s(6208);let q=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[c.ez,N,J.m,n.UX]})}return o})()}}]);